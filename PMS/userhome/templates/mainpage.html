{% extends 'Base.html' %}
{%block tittle%}PMS Home{%endblock%}
{%block shownavlink%}d-none{% endblock%}
{% block ShowPoultrieslink %}{% endblock %}
{% block Showbillslink %}{% endblock %}
{% block Showvaccineslink %}{% endblock %}
{% block Showdeadlink %}{% endblock %}
{%block loginout%}LogOut{%endblock%}
{% block mainContent%}
{%load static%}





					


<style>
  :root {
      --primary-color: #2c3e50;
      --accent-color: #27ae60;
  }

  body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f6f9fc, #eef2f7);
  }
</style>

<div class="container py-5">
  <div class="row">
      <div class="col-12">
          <h1 class="section-heading text-center mb-5">
              Add Your Poultry 
              <i class="fa-solid fa-dove text-accent" style="color: var(--accent-color);"></i>
          </h1>
          
          <div class="text-center mb-5">
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addPoultry">
                  ADD <i class="fa-solid fa-circle-plus ms-2"></i>
              </button>
          </div>

          <h1 class="section-heading text-center mb-5">
              तपाईंको सबै फार्महरू !!
          </h1>

          <div class="row g-4 ">
              {% for parm in parms %}
              <div class="col-md-4 ">
                  <div class="feature-card text-center baseColorText ">
                      <div class="card-header mb-3 bg-light">
                          
                          <h4 class="my-0 font-weight-normal ">{{parm.poultryName}}</h4>
                      </div>
                      <div class="card-body ">
                          <h1 class="mb-4">
                              <span class="stat-number baseColorText">{{parm.totalDays}}</span> 
                              <small class="text-muted">दिन</small>
                          </h1>
                          <ul class="list-unstyled mb-4">
                              <li class="mb-2">{{parm.startDate}}</li>
                              <li class="mb-2">
                                  हालेको कुखुरहरु: 
                                  <strong>{{parm.totalChicken}}</strong>
                              </li>
                              <li class="mb-2">
                                  हाल कुखुरहरु: 
                                  <i class="fa-solid fa-dove text-success me-2"></i>
                                  <strong>{{parm.totalChickenNow}}</strong>
                              </li>
                              <li>
                                  मरेको कुखुरहरु: 
                                  <i class="fa-solid fa-skull text-danger me-2"></i>
                                  <strong class="text-danger">{{parm.totalDead}}</strong>
                              </li>
                          </ul>
                          <a href="profile/{{parm.poultryName}}" class="btn btn-primary mt-3">
                              See Details
                          </a>
                      </div>
                  </div>
              </div>
              {% endfor %}
          </div>
      </div>
  </div>
</div>

<!-- Add Poultry Modal -->
<div class="modal fade" id="addPoultry" tabindex="-1" aria-labelledby="addPoultryLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="addPoultryLabel">Upload Poultry Details</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form method="post" action="submit_detail/">
                  {% csrf_token %}
                  <div class="mb-3">
                      <label for="farmName" class="form-label">Farm Name</label>
                      <input type="text" class="form-control" id="farmName" name="farmname" 
                             pattern="[^\s]+" placeholder="No spaces" required>
                  </div>
                  <div class="mb-3">
                      <label for="totalChickens" class="form-label">Total Chickens</label>
                      <input type="number" class="form-control" id="totalChickens" 
                             name="Total" required>
                  </div>
                  <div class="mb-3">
                      <label for="startDate" class="form-label">Date</label>
                      <input type="date" class="form-control" id="startDate" 
                             name="Startdate">
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                      <button type="submit" class="btn btn-primary" name="detailform">Upload</button>
                  </div>
              </form>
          </div>
      </div>
  </div>
</div>

</div>
  <script>


    function previewImage(event) {

        const input = event.target;
        const preview = document.getElementById(preview1);

        const file = input.files[0];

        if (file) {

            const reader = new FileReader();

            reader.onload = function (e) {
                preview.src = e.target.result;
            };
           reader.readAsDataURL(file);
        } else {
            preview.src = '';
        }
    }
    </script>


{%endblock%}